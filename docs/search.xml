<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>在NVMe硬盘安装ArchLinux+Windows11</title>
    <url>/2021/12/19/001/</url>
    <content><![CDATA[<h1 id="如何安装ArchLinux和Windows11在NVMe硬盘："><a href="#如何安装ArchLinux和Windows11在NVMe硬盘：" class="headerlink" title="如何安装ArchLinux和Windows11在NVMe硬盘："></a>如何安装ArchLinux和Windows11在NVMe硬盘：</h1><hr>
<p>（第一次写博客，可能很烂（</p>
<h5 id="本文主要解决以下问题："><a href="#本文主要解决以下问题：" class="headerlink" title="本文主要解决以下问题："></a>本文主要解决以下问题：</h5><p><code>1.ArchLinux无法识别较新的NVMe（我的是金士顿A2000）</code></p>
<p><code>2.os-prober无法识别Windows11</code></p>
<h5 id="需要准备："><a href="#需要准备：" class="headerlink" title="需要准备："></a>需要准备：</h5><p><code>一台正常装有Windows11的电脑</code></p>
<p><code>一个耐用的U盘（最好是移动硬盘，也可以是热插拔的SATA盘），以下简称“U盘1”</code></p>
<p><code>一个烧录了ArchLive的U盘，以下简称“U盘2”</code></p>
<p><code>一个烧录了wepe的U盘，以下简称“U盘3”</code><a href="https://www.wepe.com.cn/download.html">WePE-下载</a></p>
<p><del><code>一个没有坏掉的大脑（（（</code></del></p>
<h2 id="——ArchLinux在NVMe如何安装："><a href="#——ArchLinux在NVMe如何安装：" class="headerlink" title="——ArchLinux在NVMe如何安装："></a>——ArchLinux在NVMe如何安装：</h2><p>进入U盘2的Arch Live，并插上U盘1</p>
<p>在U盘1上安装Arch，更改以下步骤：</p>
<figure class="highlight open plaintext"><span class="code-header">    <span class="code-title">      <div class="code-icon"></div>TEXT 共 1 行</span>      <span class="code-header-tail">        <button class="code-copy"></button>        <span class="code-space">展开</span></span></span></span>    <div class="code-box"><table><tr><td class="code"><pre><code class="hljs plaintext">pacstrap /mnt base linux-zen linux-firmware<br></code></pre></td></tr></table></div></figure>
<p>进入chroot环境后，安装arch安装脚本：</p>
<figure class="highlight open plaintext"><span class="code-header">    <span class="code-title">      <div class="code-icon"></div>TEXT 共 1 行</span>      <span class="code-header-tail">        <button class="code-copy"></button>        <span class="code-space">展开</span></span></span></span>    <div class="code-box"><table><tr><td class="code"><pre><code class="hljs plaintext">pacman -S arch-install-scritps<br></code></pre></td></tr></table></div></figure>
<p>不必安装图形界面，重启后fdisk -l，就能看到NVMe硬盘了</p>
<p>按照在SATA盘安装Arch的步骤，在NVMe盘安装ArchLinux，引导分区使用Windows11的ESP分区（建议先把ESP分区删了，重新创建，因为它太小了）</p>
<p>重启后，就可以进入ArchLinux了（好耶！</p>
<h2 id="——Grub2引导ArchLinux和Windows11："><a href="#——Grub2引导ArchLinux和Windows11：" class="headerlink" title="——Grub2引导ArchLinux和Windows11："></a>——Grub2引导ArchLinux和Windows11：</h2><p>（上面的ArchLinux请使用Grub2引导</p>
<p>进入U盘3的wepe</p>
<p>打开dism++（启动时的东西都不用管）</p>
<p>选择Windows11</p>
<p>点击“工具箱”，点击引导修复，选择ArchLinux的引导分区</p>
<p>修复完成后重启系统，会正常进入Windows11，但是并没有破坏掉Grub2，启动按F12（我的是F12，请自己看主板说明，或者F*全部按一遍）进入引导菜单，找到ArchLinux（具体的名称是你安装Grub2时设置的）</p>
<figure class="highlight open plaintext"><span class="code-header">    <span class="code-title">      <div class="code-icon"></div>TEXT 共 6 行</span>      <span class="code-header-tail">        <button class="code-copy"></button>        <span class="code-space">展开</span></span></span></span>    <div class="code-box"><table><tr><td class="code"><pre><code class="hljs plaintext">#grub-install --target=x86_64 --efi-directory=/boot --bootloader-<br>id=ArchLinux<br><br>#pacman -S vim<br><br>#vim /etc/grub.d/40_custom<br></code></pre></td></tr></table></div></figure>
<p>编辑40_custom脚本：</p>
<figure class="highlight fold plaintext"><span class="code-header">    <span class="code-title">      <div class="code-icon"></div>TEXT 共 21 行</span>      <span class="code-header-tail">        <button class="code-copy"></button>        <span class="code-space">展开</span></span></span></span>    <div class="code-box"><table><tr><td class="code"><pre><code class="hljs plaintext">### BEGIN /etc/grub.d/40_custom_proxy ###<br><br>menuentry &quot;Windows11&quot;  &#123;<br><br>insmod part_gpt<br><br>insmod fat<br><br>insmod chain<br><br>root=uuid= 【引导分区的文件系统UUID】<br><br>search --no-floppy --fs-uuid --set=root 【引导分区的文件系统UUID】 --hint-<br>bios=hd0,gpt0 --hint-efi=hd0,gpt0 --hint-baremetal=NVMe0,gpt0<br>【Windows11的系统分区文件系统UUID】<br><br>chainloader /EFI/Microsoft/Boot/bootmgfw.efi<br><br>&#125;<br><br>### END /etc/grub.d/40_custom_proxy ###<br></code></pre></td></tr></table></div></figure>
<p>确保你的Windows11位于硬盘第一个分区（&#x2F;dev&#x2F;NVMe0n1p1）</p>
<p>如果不是，请将上面的两个hd0改为hd*，&#x2F;dev&#x2F;NVMe0n1pX</p>
<p>*应为X-1</p>
<figure class="highlight open plaintext"><span class="code-header">    <span class="code-title">      <div class="code-icon"></div>TEXT 共 1 行</span>      <span class="code-header-tail">        <button class="code-copy"></button>        <span class="code-space">展开</span></span></span></span>    <div class="code-box"><table><tr><td class="code"><pre><code class="hljs plaintext">#grub-makecfg -o /boot/grub/grub.cfg<br></code></pre></td></tr></table></div></figure>
<p>（如果你之前装的grub配置文件为”grub.conf”，请将以上命令的”grub.cfg”改为”grub.conf”）</p>
<h5 id="引导部分可以自己看看ArchWiki："><a href="#引导部分可以自己看看ArchWiki：" class="headerlink" title="引导部分可以自己看看ArchWiki："></a>引导部分可以自己看看ArchWiki：</h5><p><a href="https://wiki.archlinux.org/title/GRUB_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%A4%9A%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8">GRUB (简体中文) - ArchWiki (archlinux.org)</a></p>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2022/10/24/%E6%BC%94%E8%AE%B2%E7%A8%BF/</url>
    <content><![CDATA[<h1 id="演讲稿"><a href="#演讲稿" class="headerlink" title="演讲稿"></a>演讲稿</h1><blockquote>
<p>六盘水市第二中学 高一（2） ***</p>
</blockquote>
<p>大家好，今天，我演讲的题目是《喜迎二十大，一起向未来》</p>
<p>“如果不是那一面高举的红旗，怎会有今天壮丽锦绣的山河；如果不是那一点燎原的星火，怎会有今天幸福安康的生活；如果不是那一种坚韧的信仰，怎会有今天光辉灿烂的中国。”</p>
<p>漫步在城市小镇农村的街道上，仰望着高楼之间穿梭的车辆，注视着衣着各异但脸上洋溢着笑容的行人，享受着与世界同步的数字信息，目睹着奥运赛场上飘扬着的五星红旗。这些美好幸福的瞬间都是党和国家坚持准测、经历了长久的斗争才拥有的美好时代，现在的他们仍旧不断完善各地政府政策，为我们人民群众能够安居乐业有着不可磨灭的影响。<br>回忆起新冠疫情的最初，那是从 2019 年的 12 月开始的，在疫情扩散强烈的情况下，在其他国家选择身体素质强硬 才有活下去的资格下，我们的祖国首先采用的是“四早”策略。“早发现、早报告，早隔离、早治疗”，同时对于新冠疫情患者也是从源头找往各个接触链。对于患者来说，医资力量值得信赖。政府的及时管控也值得信任。这也让我们国家的疫情死亡率相比其他大多数国家则低很多。在这里，我们都要感谢党和国家。想想在寒冬里，仍坚守在岗位上的志愿者、医生护士和某些应特殊要求仍坚持工作的特殊人群，他们都有他们自己的家庭，却为了我们整个民族、为我们付出了许多。他们都是最美的逆行者。而我们要在遵守国家政策的同时，也要对他们给予信任。感谢党，感谢国家。同时也感谢自己作为人民的积极配合。</p>
<p>相信不少同学都看过《长津湖》吧，他是以抗美援朝为主题的战争片，里面有主角，但好似全部都是主角。因为每一个人都是热血的生命，每个人都是为了国家在不断的拼搏奋斗。通过电影我们看到了在美军过着愉快欢乐的感恩节时，我们的先烈们在零下三十多度的极寒情况下也依旧坚守着自己的信念，即使被冻死，也仍引旧端着长枪。这体现了志愿军战士服从命令、冻成冰雕也不退缩的革命精神。他们每一个人都是主角，都在为了我们国家作斗争、做反抗。而电影里的情节其实仍旧没有真实情况下那么残酷。那么，在过去中，我们的先烈们，都是以怎样的意志坚持下来的！这无疑是我们值得深思的，也是我们值得敬佩的！</p>
<p>“没有共产党就没有新中国”，没有共产党们的积极号召、没有人民的信任和积极响应就没有现在幸福成长的我们。在过去，我们要铭记历史、缅怀先辈；在现在，我们要积极配合、脚踏实地；在未来，我们要从容自信、以礼相待。</p>
<p>我的演讲完毕，感谢大家的倾听！</p>
]]></content>
  </entry>
</search>
